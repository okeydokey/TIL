# [DDD Start!](https://jiandson.co.kr/books/7)

### CH6. 응용 서비스와 표현 영역
- 표현 영역 : 사용자의 요청을 해석
- 응용 영역 : 사용자가 원하는 기능을 제공, 기능을 실행하는 데 필요한 입력값을 메서드 파라미터로 전달 받고 실행 결과를 리턴

#### 응용 서비스의 역할
- 도메인 객체 간의 흐름을 제어
- 트랜잭션 처리
- 접근 제어
- 이벤트 처리
- 도메인 로직 금지!!!!!!!!!!!!!!!!!!!!!! (응집도가 떨어지고 중복 코드 발생)

#### 응용 서비스의 구현
- 크기 : 한 응용 서비스 클래스에서 한 개 내지 2~3개의 기능을 구현, 크기를 작게 할 경우 중복 코드가 발생할 수 있는데 콩통이 되는 로직을 별도 클래스로 구현
- 인터페이스 : 인터페이스가 명확하게 필요하기 전까지는 응용 서비스에 대한 인터페이스를 작성하는 것이 좋은 설계라고는 볼 수 없음
- 리턴 : 애그리거트 자체를 리턴하면 도메인 로직 실행이 오픈되어 코드의 응집도를 낮추기때문에 응용 서비스는 표현 영역에서 필요한 데이터만 리턴하는 것이 기능 실행 로직의 응집도를 높이는 확실한 방법
- 파라미터 : 표현영역에 의존하지 않도록 주의 (ex. HttpServletRequest, HttpSession를 파라미터로 전달하면 안됨)
- 도메인 이벤트 처리

#### 표현 영역
- 화면 흐름 제공 및 제어
- 사용자의 요청을 알맞은 응용 서비스에 전달하고 결과를 사용자에게 제공
- 사용자 세션 관리

#### 값 검증
- 원칙적으로 모든 값에 대한 검증은 응용 서비스에서 처리
- 필수 값과 값의 형식을 표현 영역에서 검사
- 중복 여부와 같은 논리적 오류만 검사

#### 권한 검사
- 표현 영역 : 인증 여부, URL 기준 권한 (Interceptor, Servlet Filter)
- 응용 서비스 : 메서드 단위 권한 검사 (AOP)

#### 조회 전용 기능
- 서비스를 굳이 만들 필요 없이 표현 영역에서 바로 조회 전용 기능을 사용


### CH7. 도메인 서비스
- 상태 없이 로직만 구현
- 도메인 서비스를 구현하는 데 필요한 상태는 애그리거트나 다른 방법으로 전달 받음
- 도메인의 의미가 드러나는 용어를 타입과 메서드 이름으로 갖음
- 응용 로직 금지!!!!!!!!!!!!!!!!!!!!!!!

#### 응용 서비스 ? 도메인 서비스 ?
- 해당 로직이 애그리거트의 상태를 변경하거나 애그리거트의 상태 값을 계산하는 지 검사 >> 도메인 서비스!

#### 패키지 위치
- 다른 도메인 구성 요소와 동일한 패키지에 위치